const kf21Api="https://webfilmindo.herokuapp.com/kf21";$(function(){getFilmList=((t=1,a="")=>{if(""==a)var n=kf21Api+"/page/"+t;else if(""!=a)n=kf21Api+"/page/"+t+"/search/"+a;$.ajax({url:n,method:"get",crossDomain:!0,beforeSend:function(){$("#filmList").html('<tr> <td colspan="3"> <div class="d-flex justify-content-center"> <div class="spinner-border text-danger" role="status"> <span class="sr-only">Loading... </span> </div> </div> </td> </tr>')},success:function(t){let a="";t.datas.forEach(function(t,n){a+=`<tr><td>${n+1}</td> <td> <img src="${t.thumb_url}" width="25" alt=""> <span class="text-danger font-weight-bold"> ${t.title} </span></td> <td><button type="button" class="btn btn-danger btn-sm" id="download${t.id}" onclick="getDetail('${t.id}')">Download</button></td></tr>`}),$("#filmList").html(a)}})}),getFilmList(1);let t="";$('input[name="keyword"]').on("keyup",function(a){t=$(this).val()}),next=(a=>{let n=$(a).data("page"),e=n+1;$(a).data("page",e),$("#prev").attr("data-page",n),$("#prev").data("page",n),getFilmList(e,t),prev=(a=>{let n=$(a).data("page");if(n>0){let e=n-1;$(a).data("page",e),$("#next").data("page",n),getFilmList(n,t)}}),$("#cari").click(function(){let t=$('input[name="keyword"]').val();getFilmList(1,t)}),getDetail=(t=>{$.ajax({url:kf21Api+"/"+t,method:"get",crossDomain:!0,beforeSend:function(){$("#download"+t).html("Loading..."),$("#download"+t).attr("disabled",!0)},success:function(a){$("#image").attr("src",a.datas[0].image),$("#title").html(a.datas[0].title),linkDownload="",a.datas[0].linkDownload.forEach(function(t,a){linkDownload+=`<div class="col-6 mb-2">\n                <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="btn btn-warning btn-sm btn-block text-dark">${t.nama}</a>\n              </div>`}),$("#download").html(linkDownload),$("#modelId").modal("show"),$("#download"+t).attr("disabled",!1),$("#download"+t).html("Download")}})})});
